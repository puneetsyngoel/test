{
  "lastUserSave" : "2025-07-31T08:07:52.000Z",
  "id" : "6f83891b-e205-46eb-afda-7e63d0e7e6ae",
  "name" : "Development",
  "description" : null,
  "appId" : "71e9834c-ce38-4156-919a-16c6e05d949e",
  "canvasGraph" : {
    "nodes" : [ {
      "objectCategoryKey" : "CONNECTION",
      "objectTypeKey" : "GCS",
      "left" : -780,
      "state" : "CONFIGURED",
      "label" : "TestNewConn",
      "top" : -21,
      "type" : "objectType",
      "id" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a",
      "nodeType" : "objectType"
    }, {
      "id" : "44dbc621-40fb-4205-9d82-6b43ccb4161a",
      "top" : 43,
      "left" : -585,
      "label" : "Spark Processor",
      "ports" : [ {
        "id" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.input",
        "type" : "multiInput"
      }, {
        "id" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.output",
        "type" : "multiOutputLocked"
      } ],
      "nodeType" : "process",
      "processTypeKey" : "SPARK_PROCESSOR",
      "state" : "FAILED"
    }, {
      "objectCategoryKey" : "DATASET",
      "objectTypeKey" : "TABLE",
      "left" : -327,
      "state" : null,
      "ports" : [ {
        "id" : "2c4101cb-56d7-4994-8ee9-a207d3477f12.input",
        "type" : "singleInputLocked"
      }, {
        "id" : "2c4101cb-56d7-4994-8ee9-a207d3477f12.output",
        "type" : "multiOutput"
      } ],
      "label" : "test_sma_9338_Output",
      "top" : -50,
      "id" : "2c4101cb-56d7-4994-8ee9-a207d3477f12",
      "nodeType" : "objectType"
    } ],
    "edges" : [ {
      "source" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a.output",
      "target" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.input",
      "data" : {
        "id" : "ea110dae-d486-42a0-9d1d-56805d5dc08f",
        "type" : "default"
      }
    }, {
      "source" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.output",
      "target" : "2c4101cb-56d7-4994-8ee9-a207d3477f12.input",
      "data" : { }
    } ],
    "groups" : [ ],
    "ports" : [ {
      "id" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a.input"
    }, {
      "id" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a.output"
    }, {
      "id" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.input"
    }, {
      "id" : "44dbc621-40fb-4205-9d82-6b43ccb4161a.output"
    }, {
      "id" : "2c4101cb-56d7-4994-8ee9-a207d3477f12.input"
    }, {
      "id" : "2c4101cb-56d7-4994-8ee9-a207d3477f12.output"
    } ]
  },
  "environment" : "DEVELOPMENT",
  "parentWorkflowId" : null,
  "createdById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
  "modifiedById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
  "parameters" : {
    "processConfiguration" : [ {
      "graphNodeId" : "fbf2b894-33f3-44a2-9be7-b9112fb1d941",
      "name" : "Spark Processor",
      "processTypeKey" : "SPARK_PROCESSOR",
      "templateIconKey" : "SPARK_PROCESSOR",
      "defaultRuntimeId" : "731bffea-d0cc-452d-978e-93de59a64cfb",
      "templateIconSrc" : "assets/img/workflow/code.svg",
      "isSystemIcon" : true,
      "availableRuntimes" : [ {
        "id" : "731bffea-d0cc-452d-978e-93de59a64cfb",
        "name" : "test-gcp",
        "runtimeType" : "GCP_DATAPROC_CLUSTER",
        "status" : "RUNNING",
        "imageType" : null
      } ]
    } ],
    "interactiveMode" : false
  },
  "createdAt" : "2025-06-23T09:32:42.008Z",
  "updatedAt" : "2025-07-31T08:37:35.534Z",
  "app" : {
    "id" : "71e9834c-ce38-4156-919a-16c6e05d949e",
    "key" : "Test_SMA_9338",
    "appPrefix" : "test_sma_9338",
    "name" : "Test_SMA_9338",
    "description" : "",
    "module" : "SYNTHESIZER",
    "partitionScheme" : "DAILY",
    "templateId" : "7c2ec6cd-5aaf-4435-bc46-0a66c6b13d08",
    "eventStoreId" : "f692c434-04ce-4fac-ad9e-68d4fb091928",
    "iconKey" : null,
    "sharing" : {
      "shareType" : "PUBLIC"
    },
    "ownerId" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "createdById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "modifiedById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "audienceVersion" : null,
    "createdAt" : "2025-06-23T09:32:41.759Z",
    "updatedAt" : "2025-07-31T08:07:51.221Z",
    "deletedAt" : null
  },
  "graphNodes" : [ {
    "id" : "fbf2b894-33f3-44a2-9be7-b9112fb1d941",
    "name" : "Spark Processor",
    "appNodeId" : "44dbc621-40fb-4205-9d82-6b43ccb4161a",
    "workflowId" : "6f83891b-e205-46eb-afda-7e63d0e7e6ae",
    "objectTypeKey" : null,
    "processTypeKey" : "SPARK_PROCESSOR",
    "displayGroup" : null,
    "connectionId" : null,
    "externalDatasetId" : null,
    "externalSchemaId" : null,
    "datasetId" : null,
    "streamId" : null,
    "intelligenceHubId" : null,
    "displayGroupKey" : null,
    "state" : "FAILED",
    "parameters" : {
      "system" : {
        "isDeletable" : true
      },
      "filters" : { },
      "parameters" : {
        "language" : "PYTHON",
        "fileName" : null,
        "sparkScript" : "print('##################')\nprint(f'#### username: {synutils.object.getAction().getServiceAccount().getUsername()}')\nprint(f'#### password: {synutils.object.getAction().getServiceAccount().getPassword()}')\nprint('##################')\n\nimport os\nimport requests\nimport json\n\n\ndef generate_auth_token(url, payload, host, headers=None):\n    if headers is None:\n        headers = {}\n    headers[\"Host\"] = host\n    headers[\"Content-Type\"] = \"application/json\"\n    response = requests.post(url, headers=headers, json=payload, timeout=10, verify=False)\n    response.raise_for_status()\n    response_data = response.json()\n    token = response_data.get(\"token\")\n    return token\n\nusername = str(synutils.object.getAction().getServiceAccount().getUsername())\npassword = str(synutils.object.getAction().getServiceAccount().getPassword())\ncredentials = {\"authType\": \"SERVICE_ACCOUNT\",\"username\": username,\"password\": password}\nhost = 'syn-dev-kube-gcp.syntasa.net'\n\ninternal_node_ip = sc._jvm.com.syntasa.utils.SystemUtils.messagingServer().split(\":\")[0]\nport = '32037'\nbase_url = f\"https://{internal_node_ip}:{port}\"\nprint(f\"base_url: {base_url}\")\n\n# API Details\ngenerate_token_url = f\"{base_url}/loginUser\"\n\ntoken = generate_auth_token(generate_token_url, credentials, host)\nprint(f'#### token: {token}')",
        "libraryConfigs" : [ {
          "name" : "",
          "version" : ""
        } ],
        "version" : "3.9",
        "customCondaScript" : null,
        "codeParams" : [ {
          "name" : "@InputConnection1",
          "value" : "TestNewConn",
          "appNodeId" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a",
          "type" : "INPUT",
          "subType" : "CONNECTION"
        }, {
          "name" : "@OutputTable1",
          "value" : "@database.test_sma_9338_output",
          "appNodeId" : "2c4101cb-56d7-4994-8ee9-a207d3477f12",
          "type" : "OUTPUT",
          "subType" : "DATASET"
        } ]
      },
      "outputParameters" : {
        "datasets" : [ {
          "appNodeId" : "2c4101cb-56d7-4994-8ee9-a207d3477f12",
          "displayName" : "test_sma_9338_Output",
          "objectTypeKey" : "TABLE",
          "partitionScheme" : "DAILY",
          "loadToBigQuery" : false,
          "loadToRedshift" : false,
          "fileFormat" : "DELTA",
          "tableName" : "test_sma_9338_output"
        } ]
      }
    },
    "templateVersionId" : "45768e69-f4d7-45bb-8957-e3aa460ed3a1",
    "createdById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "modifiedById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "createdAt" : "2025-06-23T09:37:58.701Z",
    "updatedAt" : "2025-07-31T08:10:56.617Z",
    "objectType" : null,
    "processType" : {
      "name" : "Spark Processor",
      "schemaAware" : false,
      "runtime" : "SPARK",
      "icon" : {
        "key" : "SPARK_PROCESSOR"
      }
    },
    "processMapping" : [ ],
    "graphNodePorts" : [ {
      "id" : "533c486a-57e9-4cd9-a1b6-7d0b7b65b90f",
      "graphNodeId" : "fbf2b894-33f3-44a2-9be7-b9112fb1d941",
      "direction" : "INPUT",
      "location" : [ "left" ],
      "toLinks" : [ ],
      "fromLinks" : [ {
        "id" : "ca9eccdb-1841-43dc-ae5f-9cc11cf496e7",
        "fromPortId" : "681ad53d-d6be-4226-b607-19b4380140d8",
        "toPortId" : "533c486a-57e9-4cd9-a1b6-7d0b7b65b90f"
      } ]
    }, {
      "id" : "df3b47b8-fd71-40d3-8898-6359734b83d5",
      "graphNodeId" : "fbf2b894-33f3-44a2-9be7-b9112fb1d941",
      "direction" : "OUTPUT",
      "location" : [ "right" ],
      "toLinks" : [ {
        "id" : "8dc0ea63-4139-4761-b47c-30286c4ce0a4",
        "fromPortId" : "df3b47b8-fd71-40d3-8898-6359734b83d5",
        "toPortId" : "6214bc39-bb95-429b-89c0-86a0a03ba8cf"
      } ],
      "fromLinks" : [ ]
    } ],
    "templateIcon" : {
      "key" : "SPARK_PROCESSOR"
    }
  }, {
    "id" : "9511c7a7-8da5-4a23-b5e1-f7808c730e67",
    "name" : "TestNewConn",
    "appNodeId" : "83fe90d8-491a-4c7d-8239-7f5f19643f4a",
    "workflowId" : "6f83891b-e205-46eb-afda-7e63d0e7e6ae",
    "objectTypeKey" : "GCS",
    "processTypeKey" : null,
    "displayGroup" : null,
    "connectionId" : "8e5de9db-9845-40e8-be2f-8177e66100e0",
    "externalDatasetId" : null,
    "externalSchemaId" : null,
    "datasetId" : null,
    "streamId" : null,
    "intelligenceHubId" : null,
    "displayGroupKey" : null,
    "state" : "CONFIGURED",
    "parameters" : {
      "system" : {
        "isDeletable" : true
      }
    },
    "templateVersionId" : null,
    "createdById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "modifiedById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "createdAt" : "2025-06-23T09:37:58.701Z",
    "updatedAt" : "2025-06-23T09:37:58.701Z",
    "objectType" : {
      "name" : "GCS",
      "objectCategoryKey" : "CONNECTION",
      "icon" : {
        "name" : "gcs-connection.svg",
        "isSystem" : true
      }
    },
    "processType" : null,
    "processMapping" : [ ],
    "graphNodePorts" : [ {
      "id" : "2ed582cb-e494-44bf-b41f-ba9ae3a39d82",
      "graphNodeId" : "9511c7a7-8da5-4a23-b5e1-f7808c730e67",
      "direction" : "INPUT",
      "location" : [ "left" ],
      "toLinks" : [ ],
      "fromLinks" : [ ]
    }, {
      "id" : "681ad53d-d6be-4226-b607-19b4380140d8",
      "graphNodeId" : "9511c7a7-8da5-4a23-b5e1-f7808c730e67",
      "direction" : "OUTPUT",
      "location" : [ "right" ],
      "toLinks" : [ {
        "id" : "ca9eccdb-1841-43dc-ae5f-9cc11cf496e7",
        "fromPortId" : "681ad53d-d6be-4226-b607-19b4380140d8",
        "toPortId" : "533c486a-57e9-4cd9-a1b6-7d0b7b65b90f"
      } ],
      "fromLinks" : [ ]
    } ],
    "objectCategoryKey" : "CONNECTION"
  }, {
    "id" : "676850f2-9405-43f2-b276-e6843e313b09",
    "name" : "test_sma_9338_Output",
    "appNodeId" : "2c4101cb-56d7-4994-8ee9-a207d3477f12",
    "workflowId" : "6f83891b-e205-46eb-afda-7e63d0e7e6ae",
    "objectTypeKey" : "TABLE",
    "processTypeKey" : null,
    "displayGroup" : null,
    "connectionId" : null,
    "externalDatasetId" : null,
    "externalSchemaId" : null,
    "datasetId" : "27089c4c-411e-4834-8c9f-222fa71cdc75",
    "streamId" : null,
    "intelligenceHubId" : null,
    "displayGroupKey" : null,
    "state" : null,
    "parameters" : {
      "system" : {
        "isDeletable" : true
      }
    },
    "templateVersionId" : null,
    "createdById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "modifiedById" : "1d1ad1ae-e259-46c4-b55d-03473eb3a613",
    "createdAt" : "2025-06-23T09:37:58.722Z",
    "updatedAt" : "2025-06-23T09:37:58.722Z",
    "objectType" : {
      "name" : "Table",
      "objectCategoryKey" : "DATASET",
      "icon" : {
        "name" : "table.svg",
        "isSystem" : true
      }
    },
    "processType" : null,
    "processMapping" : [ ],
    "graphNodePorts" : [ {
      "id" : "6214bc39-bb95-429b-89c0-86a0a03ba8cf",
      "graphNodeId" : "676850f2-9405-43f2-b276-e6843e313b09",
      "direction" : "INPUT",
      "location" : [ "left" ],
      "toLinks" : [ ],
      "fromLinks" : [ {
        "id" : "8dc0ea63-4139-4761-b47c-30286c4ce0a4",
        "fromPortId" : "df3b47b8-fd71-40d3-8898-6359734b83d5",
        "toPortId" : "6214bc39-bb95-429b-89c0-86a0a03ba8cf"
      } ]
    }, {
      "id" : "06792c6f-3b4e-4119-a5bf-711112d49ad7",
      "graphNodeId" : "676850f2-9405-43f2-b276-e6843e313b09",
      "direction" : "OUTPUT",
      "location" : [ "right" ],
      "toLinks" : [ ],
      "fromLinks" : [ ]
    } ],
    "objectCategoryKey" : "DATASET"
  } ]
}